{"version":3,"sources":["webpack:///D:/weixinapp/ResumeBoost/resume-optimization-frontend/components/importFile.vue?b612","webpack:///D:/weixinapp/ResumeBoost/resume-optimization-frontend/components/importFile.vue?f177","uni-app:///components/importFile.vue"],"names":["props","busKey","type","default","extension","uploadParams","methods","setFile","that","file","fileName","uni","url","name","filePath","formData","header","Authorization","success","title","icon","fail","complete"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAC8D;AACL;;;AAGzD;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,gFAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAumB,CAAgB,onBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACC3nB;AACA;AAAA;AAAA;AAAA,gBACA;EACAA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;QACA,QACA,QACA,OACA,SACA,QACA,QACA,OACA,QACA,OACA,QACA,OACA,QACA,OACA,QACA,OACA,SACA,QACA,QACA,OACA,SACA,OACA;MACA;IACA;IACAE;MACAH;MACAC;QACA;MACA;IACA;EACA;EACAG;IACAC;MAAA;MAAA;MAAA;MACA;MACA,6CACAC;QACAP;QACAQ;QACAC;MAAA,EACA;MAEAC;QACAC;QAAA;QACAC;QACAC;QAAA;QACAC;QAAA;QACAC;UACA;UACAC;QACA;QACAC;UACAV;;UAEAG;YACAQ;YACAC;UACA;QACA;QACAC;UACAV;YACAQ;YACAC;UACA;QACA;QACAE;UACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,4B","file":"components/importFile.js","sourcesContent":["var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./importFile.vue?vue&type=script&lang=js&\"\nexport * from \"./importFile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/importFile.vue\"\nexport default component.exports","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./importFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./importFile.vue?vue&type=script&lang=js&\"","<script>\nimport uuid from '@/utils/uuid.modified.js'\nimport storage from '@/utils/storage'\nexport default {\n    props: {\n        busKey: {\n            type: String,\n            default: ''\n        },\n        extension: {\n            type: Array,\n            default: () => {\n                return [\n                    '.zip',\n                    'zip',\n                    '.docx',\n                    'docx',\n                    '.doc',\n                    'doc',\n                    '.pdf',\n                    'pdf',\n                    '.txt',\n                    'txt',\n                    '.csv',\n                    'csv',\n                    '.xls',\n                    'xls',\n                    '.xlsx',\n                    'xlsx',\n                    '.ppt',\n                    'ppt',\n                    '.pptx',\n                    'pptx'\n                ]\n            }\n        },\n        uploadParams: {\n            type: Object,\n            default: () => {\n                return {}\n            }\n        }\n    },\n    methods: {\n        setFile(fileObj = {}, flag = 'path', callback) {\n            let that = this //保留vue实例\n            const params = {               \n                ...that.uploadParams, \n                busKey: that.busKey ? that.busKey : uuid().replace(/-/g, ''),\n                file: fileObj, \n                fileName: fileObj.name \n            }\n\n            uni.uploadFile({\n                url: 'https://119.84.246.218:57534/api', // 接口地址\n                name: 'uploadResume',\n                filePath: fileObj[flag], // 文件地址\n                formData: params, // 附加参数，根据实际需求传\n                header: {\n                    // 请求头信息\n                    Authorization: storage.getAccessToken()\n                },\n                success: function (res) {\n                    that.$emit('getBusKey', params.busKey) // 通知父组件uuid已更新，做对应处理\n\n                    uni.showToast({\n                        title: '上传成功',\n                        icon: 'none'\n                    })\n                },\n                fail: function (err) {\n                    uni.showToast({\n                        title: '上传失败',\n                        icon: 'none'\n                    })\n                },\n                complete: function () {\n                    // 无论成功或失败，都执行回调函数\n                    if (callback) callback()\n                }\n            })\n        }\n    }  \n}\n</script>\n"],"sourceRoot":""}